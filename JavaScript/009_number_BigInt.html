<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>009_number_BigInt.html</title>
</head>
<body>
    <script>
        // JavaScript에서 큰 숫자를 사용할 때는 BigInt를 사용합니다.
        // 추가된지 2년되었기 때문에, BigInt를 회사에서 사용하지 않을 수도 있습니다.
        // The proposal belongs to ECMAScript 2020, which is the 11th edition
        // console.log(Number.MAX_SAFE_INTEGER) // 2^53 - 1
        BigInt(12312312312312312312) + BigInt(2) // 제대로 작동하지 않습니다.
        // BigInt(Number.MAX_SAFE_INTEGER)
        // BigInt(Number.MAX_SAFE_INTEGER) + 1000n // 제대로 작동합니다.(숫자 자체가 MAX_SAFE_INTEGER를 넘어가면 제대로 표현하지 못합니다.)
        // BigInt(5) + 5n
        // BigInt(5) + 5 // error
        // BigInt(5) / 2n // 2n(소수 표현 안됩니다.)
        // BigInt("10") + BigInt("10") // 큰 값을 정수로 입력받을 때에는 string으로 처리해서 받아야 합니다.

        /* 9007199254740991
        이 숫자는 Number.MAX_SAFE_INTEGER와 동일 수 입니다.
        말 그대로 안전한 숫자입니다.
        만약 BigInt 안의 숫자를 이 숫자보다 큰 숫자로 하였을 경우, 정확한 연산이 안됩니다.
        MDN문서를 보세요.

        const x = Number.MAX_SAFE_INTEGER + 1;
        const y = Number.MAX_SAFE_INTEGER + 2;

        console.log(x === y);

        분명히 다른 숫자를 더했는데 true가 나옵니다.

        이 '안전하지 않은 숫자'를 BigInt 안에 넣어보겠습니다.

        BigInt(9007199254740993) // 9007199254740992n
        BigInt(9007199254740995) // 9007199254740996n

        보는 것처럼 제대로 표현하지 못하고 있습니다.

        하지만 BigInt 안에 이 숫자를 문자로 넣어주면,
        BigInt("9007199254740993") // 9007199254740993n
        BigInt("9007199254740995") // 9007199254740995n

        위와 같이 제대로 표현합니다.

        그래서 BigInt로 큰 숫자를 표현하더라도, 그 안에 들어가는 값은 Number.MAX_SAFE_INTEGER 이하일 때만 안전하고, 그 이상의 숫자를 넣으면 정확하게 결과값을 내어주지 않습니다. 따라서 BigInt()를 사용하여 더 큰 숫자를 표현하고 싶을 때에는 문자로 넣어주세요.
    </script>
</body>
</html>